--- ../alsa-kernel/pci/via82xx_modem.c	2007-07-19 16:36:26.000000000 +0200
+++ via82xx_modem.c	2007-07-20 12:40:13.000000000 +0200
@@ -1182,7 +1182,7 @@
 		goto __error;
 	}
 		
-	if ((err = snd_via82xx_create(card, pci, chip_type, pci->revision,
+	if ((err = snd_via82xx_create(card, pci, chip_type, snd_pci_revision(pci),
 				      ac97_clock, &chip)) < 0)
 		goto __error;
 	card->private_data = chip;
@@ -1242,3 +1242,5 @@
 
 module_init(alsa_card_via82xx_init)
 module_exit(alsa_card_via82xx_exit)
+
+EXPORT_NO_SYMBOLS;
