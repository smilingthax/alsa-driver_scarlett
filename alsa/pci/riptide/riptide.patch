--- ../../alsa-kernel/pci/riptide/riptide.c	2006-04-10 15:36:21.000000000 +0200
+++ riptide.c	2006-04-18 13:20:12.000000000 +0200
@@ -1269,7 +1269,12 @@
 				if ((err =
 				     request_firmware(&chip->fw_entry,
 						      "riptide.hex",
-						      &chip->pci->dev)) != 0) {
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 5, 0)
+						      pci_name(chip->pci)
+#else
+						      &chip->pci->dev
+#endif
+						      )) != 0) {
 					snd_printk(KERN_ERR
 						   "Riptide: Firmware not available %d\n",
 						   err);
@@ -2221,3 +2226,5 @@
 
 module_init(alsa_card_riptide_init);
 module_exit(alsa_card_riptide_exit);
+
+EXPORT_NO_SYMBOLS;
