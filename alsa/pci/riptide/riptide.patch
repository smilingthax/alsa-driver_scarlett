--- ../../alsa-kernel/pci/riptide/riptide.c	2007-12-20 11:47:37.000000000 +0100
+++ riptide.c	2007-12-20 12:16:59.000000000 +0100
@@ -1,3 +1,4 @@
+#include "adriver.h"
 /*
  *   Driver for the Conexant Riptide Soundchip
  *
@@ -1278,7 +1279,12 @@
 				if ((err =
 				     request_firmware(&chip->fw_entry,
 						      "riptide.hex",
-						      &chip->pci->dev)) != 0) {
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 5, 0)
+						      pci_name(chip->pci)
+#else
+						      &chip->pci->dev
+#endif
+						      )) != 0) {
 					snd_printk(KERN_ERR
 						   "Riptide: Firmware not available %d\n",
 						   err);
@@ -2228,3 +2234,5 @@
 
 module_init(alsa_card_riptide_init);
 module_exit(alsa_card_riptide_exit);
+
+EXPORT_NO_SYMBOLS;
