--- ../../alsa-kernel/pci/korg1212/korg1212.c	2006-11-02 21:58:57.000000000 +0100
+++ korg1212.c	2006-11-02 22:07:23.000000000 +0100
@@ -2342,7 +2342,11 @@
         korg1212->AdatTimeCodePhy = korg1212->sharedBufferPhy +
 		offsetof(struct KorgSharedBuffer, AdatTimeCode);
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 5, 0)
 	err = request_firmware(&dsp_code, "korg/k1212.dsp", &pci->dev);
+#else
+	err = request_firmware(&dsp_code, "korg/k1212.dsp", pci_name(pci));
+#endif
 	if (err < 0) {
 		release_firmware(dsp_code);
 #ifdef FIRMWARE_IN_THE_KERNEL
@@ -2504,3 +2508,4 @@
 
 module_init(alsa_card_korg1212_init)
 module_exit(alsa_card_korg1212_exit)
+EXPORT_NO_SYMBOLS;
