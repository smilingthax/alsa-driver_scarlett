--- pcm_oss.c	2004-04-07 17:00:25.224626911 +0200
+++ pcm_oss.c	2004-04-07 18:37:14.779726129 +0200
@@ -2213,7 +2213,11 @@
 	if (runtime->oss.plugin_first != NULL)
 		return -EIO;
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 3, 25)
 	if (area->vm_pgoff != 0)
+#else
+	if (area->vm_offset != 0)
+#endif
 		return -EINVAL;
 
 	err = snd_pcm_mmap_data(substream, file, area);
@@ -2387,7 +2391,9 @@
 
 static struct file_operations snd_pcm_oss_f_reg =
 {
+#ifndef LINUX_2_2
 	.owner =	THIS_MODULE,
+#endif
 	.read =		snd_pcm_oss_read,
 	.write =	snd_pcm_oss_write,
 	.open =		snd_pcm_oss_open,
@@ -2512,3 +2518,5 @@
 
 module_init(alsa_pcm_oss_init)
 module_exit(alsa_pcm_oss_exit)
+
+EXPORT_NO_SYMBOLS;
