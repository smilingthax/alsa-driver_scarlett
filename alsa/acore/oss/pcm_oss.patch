--- pcm_oss.c	2003-05-31 13:17:10.000000000 +0200
+++ pcm_oss.c.old	2003-05-31 13:15:28.000000000 +0200
@@ -2081,7 +2081,11 @@
 	if (runtime->oss.plugin_first != NULL)
 		return -EIO;
 
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 3, 25)
 	if (area->vm_pgoff != 0)
+#else
+	if (area->vm_offset != 0)
+#endif
 		return -EINVAL;
 
 	err = snd_pcm_mmap_data(substream, file, area);
@@ -2247,7 +2251,9 @@
 
 static struct file_operations snd_pcm_oss_f_reg =
 {
+#ifndef LINUX_2_2
 	.owner =	THIS_MODULE,
+#endif
 	.read =		snd_pcm_oss_read,
 	.write =	snd_pcm_oss_write,
 	.open =		snd_pcm_oss_open,
@@ -2393,3 +2399,5 @@
 __setup("snd-pcm-oss=", alsa_pcm_oss_setup);
 
 #endif /* !MODULE */
+
+EXPORT_NO_SYMBOLS;
