--- ../alsa-kernel/core/pcm_native.c	2012-11-22 17:40:53.000000000 +0100
+++ pcm_native.c	2012-11-23 18:05:26.000000000 +0100
@@ -1634,7 +1682,11 @@
 	file = fget_light(fd, fput_needed);
 	if (!file)
 		return NULL;
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(2, 6, 20)
 	inode = file->f_path.dentry->d_inode;
+#else
+	inode = file->f_dentry->d_inode;
+#endif
 	if (!S_ISCHR(inode->i_mode) ||
 	    imajor(inode) != snd_major) {
 		fput_light(file, *fput_needed);
